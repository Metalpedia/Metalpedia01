<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8"/>
        <title>Metalpedia Tabelle</title>
        <link href="../css/responsivestylemobile.css" type="text/css" rel="stylesheet">
        <script>
            let bands = [];
            function bandDefault(){
                return [
                    {
                        name: 'name',
                        grndjahr: 'Gründungsjahr',
                        genre: 'Genre',
                        herkunft: 'Herkunft',
                        link: 'Link',
                        wacken: 'Wacken',
                        
                    },{
                        name: 'Amon Amarth',
                        grndjahr: '1992',
                        genre: 'Death Metal',
                        herkunft: 'Schweden',
                        link: '<iframe width="150" height="100" src="https://www.youtube.com/embed/cSlYyOebGn4" frameborder="0" gesture="media" allowfullscreen></iframe>',
                        wacken: 'Ja'
                    }
                ]
            }
            
            function renderTable(liste){
                let table = document.getElementById("tabbands");
                table.innerHTML = '';
                liste.forEach(band => {
                let tr = document.createElement('tr');
                let stub = "";
                stub += "<td>" + band.name + "</td>";
                stub += "<td>" + band.grndjahr + "</td>";
                stub += "<td>" + band.genre + "</td>" ;
                stub += "<td>" + band.herkunft + "</td>";
                stub += "<td>" + band.link + "</td>";
                if(band.wacken){
                    stub += "<td>Ja</td>";
                }
                else{
                    stub += "<td>Nein</td>";
                } 
                tr.innerHTML = stub;
                table.appendChild(tr);
                })
            }
            
            function init(){
                let bandsStr = localStorage.getItem('bands');
                let bands = bandDefault();
                if(bandsStr){
                    bands = bands.concat(JSON.parse(bandsStr));
                }
                
                renderTable(bands);
                
            }
            function clearList(){
                localStorage.removeItem('bands');
                renderTable(bandDefault());
            }
        </script>
    </head>
    <body onLoad="init()">
        <div class="banner"></div><br><br>
        <div class="content"><h3>Bandtabellen</h3></div><br>
        <div class="content">Hier siehst du alle hammer Bands aus unserem Verzeichnis und kannst sie sogar nach den unten angegebenen Kriterien sortieren.</div><br><br>
        
        <div class="content">
            <table  id="tabbands">
        </table>
        </div><br>
        <div class="insert"><button onclick="clearList()">Liste löschen</button>
        </div>
        <br>
        <div class="insert">
            <h4>Sortieren? Sortieren!</h4>
            <input type="checkbox" name="Wacken" value="wacken">Haben bereits bei Wacken gespielt
            <br>
            <input type="radio" name="sort" value="jahrabst">Gründungsjahre absteigend sortieren
            <br>
            <input type="radio" name="sort" value="jahrauf">Gründungsjahre aufsteigend sortieren
            <br>
            <input type="radio" name="sort" value="genre">Nach Genre sortieren
            <br>
            <input type="radio" name="sort" value="alphabet">Namen alphabetisch sortieren
            <br>
            <input type="radio" name="sort" value="ralphabet">Namen alphabetisch rückwärts sortieren<br><br>
        </div><br><br>
         <div class="navi_side">
            <h3>Komplette Liste</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="tabelle.html">Bandtabelle</a></li>
                    <li><a href="band_hinzufuegen.html">Band oder Konzert hinzufügen</a></li>
                    <li><a href="Konzerttabelle.html">Konzerttabelle</a></li>
                </ul> 
        </div><br>  
        <footer class="footer">
            <div>
                <a href="../html/kontakt.html">Kontakt</a><br>
                Erstellt von Julia Sparre und Nicholas Larson 
            </div>
        </footer>
    </body>
</html>    